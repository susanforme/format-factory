import{f as G,a as M,g as A,_ as R}from"./index-c383fd67.js";import{d as D,r as x,o as y,e as I,f as e,j as o,k as l,F as H,g as J,v as L,G as K,H as Q,I as N,J as O,K as j,L as q,b as k,a as W,w as X,M as Y,t as _,u as v,N as Z,O as ee,P as oe,y as te,z as se,Q as le}from"./element-plus-f38f0f5d.js";const ae={class:"config"},ne=e("h2",null,"转换配置:",-1),ie={class:"operate"},ce=D({__name:"Transcoding",props:{onFinish:{type:Function}},setup(u){const m=u,f=["mp4","webm","ogg","avi","mov","flv","wmv","mkv","m4v","3gp","3g2","ts","mts","m2ts","vob","mxf","rm","rmvb","f4v"],s=x({format:"mp4",kbps:1e3});function c(){m.onFinish(s)}return(i,r)=>{const g=K,w=Q,h=N,p=O,t=j,d=q;return y(),I("div",null,[e("div",ae,[ne,o(t,{"label-position":"left","label-width":"100px",model:s},{default:l(()=>[o(h,{label:"输出格式"},{default:l(()=>[o(w,{filterable:"",modelValue:s.format,"onUpdate:modelValue":r[0]||(r[0]=n=>s.format=n),placeholder:"请选择"},{default:l(()=>[(y(),I(H,null,J(f,n=>o(g,{key:n,label:n,value:n},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1}),o(h,{label:"码率"},{default:l(()=>[o(p,{placeholder:"请输入",modelValue:s.kbps,"onUpdate:modelValue":r[1]||(r[1]=n=>s.kbps=n)},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),e("div",ie,[o(d,{type:"primary",onClick:c},{default:l(()=>[L(" 输出 ")]),_:1})])])}}}),a=u=>(te("data-v-571a582a"),u=u(),se(),u),de=["element-loading-text"],_e={class:"info"},ue=a(()=>e("h2",null,"基本信息:",-1)),re={class:"row"},me=a(()=>e("div",{class:"label"},"文件名:",-1)),pe={class:"value"},ve={class:"row"},fe=a(()=>e("div",{class:"label"},"文件大小:",-1)),he={class:"value"},be={class:"row"},ge=a(()=>e("div",{class:"label"},"视频时长:",-1)),we={class:"value"},Ve={class:"row"},xe=a(()=>e("div",{class:"label"},"解码器:",-1)),ye={class:"value"},Ie={class:"row"},Fe={class:"label"},Ee={class:"value"},Te={class:"info"},Be=a(()=>e("h2",null,"视频流信息:",-1)),Ce={class:"row"},Se=a(()=>e("div",{class:"label"},"文件名:",-1)),ke={class:"value"},De={class:"info"},Le=a(()=>e("h2",null,"音频流信息:",-1)),Ne={class:"row"},Oe=a(()=>e("div",{class:"label"},"文件名:",-1)),je={class:"value"},ze={class:"config"},Pe=a(()=>e("h2",null,"通用导出配置:",-1)),Ue={class:"operate"},$e=D({__name:"Video",setup(u){const m=x({name:"output"}),f=k("transcoding"),s=k({audio:{},video:{code:"",format:""},basic:{duration:0,bitrate:0,encoder:"",majorBrand:""}}),c=x({value:!1,text:"Loading"}),i=W(()=>M.value[0]);X(i,()=>{i.value&&r()},{immediate:!0});async function r(){c.value=!0,c.text="获取视频信息中...",(await A(i.value.raw)).media.track.forEach(t=>{const d=t["@type"];d==="Video"?s.value.video={code:t.CodecID,format:t.Format}:d==="Audio"?s.value.audio={code:t.CodecID,format:t.Format}:d==="General"&&(s.value.basic={duration:t.Duration,bitrate:t.OverallBitRate,encoder:t.Encoded_Application,majorBrand:t.CodecID})}),c.value=!1}async function g(){}g();function w(){}function h(p){console.log("%c [ config ]-70","font-size:13px; background:pink; color:#bf2c9f;",p)}return(p,t)=>{var F,E,T,B,C,S;const d=Z,n=O,z=N,P=j,b=le,U=ee,$=oe;return Y((y(),I("div",{class:"video","element-loading-text":c.text},[e("div",_e,[ue,e("div",re,[me,e("div",pe,_(v(i).name),1)]),e("div",ve,[fe,e("div",he,_(v(G)(v(i).size)),1)]),e("div",be,[ge,e("div",we,_((E=(F=s.value)==null?void 0:F.basic)==null?void 0:E.duration),1)]),e("div",Ve,[xe,e("div",ye,_((B=(T=s.value)==null?void 0:T.basic)==null?void 0:B.encoder),1)]),e("div",Ie,[e("div",Fe,[o(d,{content:"详见 http://ftyps.com/"},{default:l(()=>[L(" ftyp: ")]),_:1})]),e("div",Ee,_((S=(C=s.value)==null?void 0:C.basic)==null?void 0:S.majorBrand),1)])]),e("div",Te,[Be,e("div",Ce,[Se,e("div",ke,_(v(i).name),1)])]),e("div",De,[Le,e("div",Ne,[Oe,e("div",je,_(v(i).name),1)])]),e("div",ze,[Pe,o(P,{"label-position":"left","label-width":"100px",model:m},{default:l(()=>[o(z,{label:"输出名称"},{default:l(()=>[o(n,{placeholder:"请输入",modelValue:m.name,"onUpdate:modelValue":t[0]||(t[0]=V=>m.name=V)},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),e("div",Ue,[o(U,{modelValue:f.value,"onUpdate:modelValue":t[1]||(t[1]=V=>f.value=V),onTabClick:w},{default:l(()=>[o(b,{name:"transcoding",label:"转换"},{default:l(()=>[o(ce,{"on-finish":h})]),_:1}),o(b,{name:"Config",label:"提取字幕"}),o(b,{name:"Role",label:"提取音频"}),o(b,{name:"waterMark",label:"水印"})]),_:1},8,["modelValue"])])],8,de)),[[$,c.value]])}}});const Ae=R($e,[["__scopeId","data-v-571a582a"]]);export{Ae as default};
