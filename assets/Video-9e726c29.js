import{f as X,a as Y,g as Z,_ as ee}from"./index-b2b99b69.js";import{l as $,k as V,m as x,q as I,t as e,f as s,y as n,F as oe,v as se,B as G,L as te,M as le,N as q,O as H,P as Q,Q as ae,r as M,c as ne,w as ie,R as ce,x as a,u as p,S as de,U as _e,V as ue,D as re,G as ve,W as me}from"./element-plus-8b95dae3.js";const pe={class:"config"},fe=e("h2",null,"转换配置:",-1),he={class:"operate"},be=$({__name:"Transcoding",props:{onFinish:{type:Function}},setup(r){const m=r,f=["mp4","webm","ogg","avi","mov","flv","wmv","mkv","m4v","3gp","3g2","ts","mts","m2ts","vob","mxf","rm","rmvb","f4v"],o=V({format:"mp4",kbps:1e3});function d(){m.onFinish(o)}return(c,v)=>{const g=te,w=le,h=q,_=H,l=Q,u=ae;return x(),I("div",null,[e("div",pe,[fe,s(l,{"label-position":"left","label-width":"100px",model:o},{default:n(()=>[s(h,{label:"输出格式"},{default:n(()=>[s(w,{filterable:"",modelValue:o.format,"onUpdate:modelValue":v[0]||(v[0]=i=>o.format=i),placeholder:"请选择"},{default:n(()=>[(x(),I(oe,null,se(f,i=>s(g,{key:i,label:i,value:i},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1}),s(h,{label:"码率"},{default:n(()=>[s(_,{placeholder:"请输入",modelValue:o.kbps,"onUpdate:modelValue":v[1]||(v[1]=i=>o.kbps=i)},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),e("div",he,[s(u,{type:"primary",onClick:d},{default:n(()=>[G(" 输出 ")]),_:1})])])}}}),t=r=>(re("data-v-423273a3"),r=r(),ve(),r),ge=["element-loading-text"],we={class:"info"},Fe=t(()=>e("h2",null,"基本信息:",-1)),Ve={class:"row"},xe=t(()=>e("div",{class:"label"},"文件名:",-1)),Ie={class:"value"},Se={class:"row"},Ce=t(()=>e("div",{class:"label"},"文件大小:",-1)),ye={class:"value"},Ee={class:"row"},ke=t(()=>e("div",{class:"label"},"格式:",-1)),De={class:"value"},Te={class:"row"},ze=t(()=>e("div",{class:"label"},"格式配置文件:",-1)),Be={class:"value"},Oe={class:"row"},Re=t(()=>e("div",{class:"label"},"总比特率:",-1)),Le={class:"value"},Pe={class:"row"},Ne=t(()=>e("div",{class:"label"},"帧率:",-1)),Ue={class:"value"},Ae={class:"row"},Me=t(()=>e("div",{class:"label"},"帧数:",-1)),$e={class:"value"},Ge={class:"row"},qe=t(()=>e("div",{class:"label"},"视频时长:",-1)),He={class:"value"},Qe={class:"row"},We=t(()=>e("div",{class:"label"},"解码器:",-1)),je={class:"value"},Je={class:"row"},Ke={class:"label"},Xe={class:"value"},Ye={class:"info"},Ze=t(()=>e("h2",null,"视频流信息:",-1)),eo={class:"row"},oo=t(()=>e("div",{class:"label"},"文件名:",-1)),so={class:"value"},to={class:"info"},lo=t(()=>e("h2",null,"音频流信息:",-1)),ao={class:"row"},no=t(()=>e("div",{class:"label"},"文件名:",-1)),io={class:"value"},co={class:"config"},_o=t(()=>e("h2",null,"通用导出配置:",-1)),uo={class:"operate"},ro=$({__name:"Video",setup(r){const m=V({name:"output"}),f=M("transcoding"),o=M({audio:{},video:{code:"",format:""},basic:{VideoCount:"",AudioCount:"",Format:"",Format_Profile:"",CodecID:"",CodecID_Compatible:"",FileSize:"",Duration:"",OverallBitRate_Mode:"",OverallBitRate:"",FrameRate:"",FrameCount:"",StreamSize:"",HeaderSize:"",DataSize:"",FooterSize:"",IsStreamable:"",Encoded_Application:""}}),d=V({value:!1,text:"Loading"}),c=ne(()=>Y.value[0]);ie(c,()=>{c.value&&v()},{immediate:!0});async function v(){d.value=!0,d.text="获取视频信息中...";const _=await Z(c.value.raw);console.log("%c [ result ]-68","font-size:13px; background:pink; color:#bf2c9f;",_),_.media.track.forEach(l=>{const u=l["@type"];u==="Video"?o.value.video={code:l.CodecID,format:l.Format}:u==="Audio"?o.value.audio={code:l.CodecID,format:l.Format}:u==="General"&&(o.value.basic=l)}),d.value=!1}async function g(){}g();function w(){}function h(_){console.log("%c [ config ]-70","font-size:13px; background:pink; color:#bf2c9f;",_)}return(_,l)=>{var S,C,y,E,k,D,T,z,B,O,R,L,P,N,U,A;const u=de,i=H,W=q,j=Q,b=me,J=_e,K=ue;return ce((x(),I("div",{class:"video","element-loading-text":d.text},[e("div",we,[Fe,e("div",Ve,[xe,e("div",Ie,a(p(c).name),1)]),e("div",Se,[Ce,e("div",ye,a(p(X)(p(c).size)),1)]),e("div",Ee,[ke,e("div",De,a((C=(S=o.value)==null?void 0:S.basic)==null?void 0:C.Format),1)]),e("div",Te,[ze,e("div",Be,a((E=(y=o.value)==null?void 0:y.basic)==null?void 0:E.Format_Profile),1)]),e("div",Oe,[Re,e("div",Le,a((D=(k=o.value)==null?void 0:k.basic)==null?void 0:D.OverallBitRate),1)]),e("div",Pe,[Ne,e("div",Ue,a((z=(T=o.value)==null?void 0:T.basic)==null?void 0:z.FrameRate),1)]),e("div",Ae,[Me,e("div",$e,a((O=(B=o.value)==null?void 0:B.basic)==null?void 0:O.FrameCount),1)]),e("div",Ge,[qe,e("div",He,a((L=(R=o.value)==null?void 0:R.basic)==null?void 0:L.Duration),1)]),e("div",Qe,[We,e("div",je,a((N=(P=o.value)==null?void 0:P.basic)==null?void 0:N.Encoded_Application),1)]),e("div",Je,[e("div",Ke,[s(u,{content:"详见 http://ftyps.com/"},{default:n(()=>[G(" ftyp: ")]),_:1})]),e("div",Xe,a((A=(U=o.value)==null?void 0:U.basic)==null?void 0:A.CodecID),1)])]),e("div",Ye,[Ze,e("div",eo,[oo,e("div",so,a(p(c).name),1)])]),e("div",to,[lo,e("div",ao,[no,e("div",io,a(p(c).name),1)])]),e("div",co,[_o,s(j,{"label-position":"left","label-width":"100px",model:m},{default:n(()=>[s(W,{label:"输出名称"},{default:n(()=>[s(i,{placeholder:"请输入",modelValue:m.name,"onUpdate:modelValue":l[0]||(l[0]=F=>m.name=F)},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),e("div",uo,[s(J,{modelValue:f.value,"onUpdate:modelValue":l[1]||(l[1]=F=>f.value=F),onTabClick:w},{default:n(()=>[s(b,{name:"transcoding",label:"转换"},{default:n(()=>[s(be,{"on-finish":h})]),_:1}),s(b,{name:"Config",label:"提取字幕"}),s(b,{name:"Role",label:"提取音频"}),s(b,{name:"waterMark",label:"水印"})]),_:1},8,["modelValue"])])],8,ge)),[[K,d.value]])}}});const po=ee(ro,[["__scopeId","data-v-423273a3"]]);export{po as default};
